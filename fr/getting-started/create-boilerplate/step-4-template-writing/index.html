
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../../assets/icon-192x192.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.3">
    
    
      
        <title>Étape 4: Rédiger les templates - Hapify</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.1655a90d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="cyan">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Hapify" class="md-header__button md-logo" aria-label="Hapify">
      
  <img src="../../../assets/logo-no-margin-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hapify
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Étape 4: Rédiger les templates
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
        <div class="md-select">
          
          <span class="md-header__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>
          </span>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="https://docs.hapify.io/" class="md-select__link">
                    English
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="https://docs.hapify.io/fr/" class="md-select__link">
                    Français
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Accueil
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link md-tabs__link--active">
        Démarrer
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../reference/cli/" class="md-tabs__link">
        Référence
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../code-samples/javascript/" class="md-tabs__link">
        Exemples
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Hapify" class="md-nav__button md-logo" aria-label="Hapify">
      
  <img src="../../../assets/logo-no-margin-white.png" alt="logo">

    </a>
    Hapify
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Accueil
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Démarrer
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Démarrer" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Démarrer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Utiliser un boilerplate existant
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Utiliser un boilerplate existant" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Utiliser un boilerplate existant
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../existing-boilerplate/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../existing-boilerplate/step-1-clone-boilerplate/" class="md-nav__link">
        Étape 1: Cloner un boilerplate
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../existing-boilerplate/step-2-edit-models/" class="md-nav__link">
        Étape 2: Éditer les modèles de données
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../existing-boilerplate/step-3-generate/" class="md-nav__link">
        Étape 3: Générer le code
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../existing-boilerplate/step-4-lifecycle/" class="md-nav__link">
        Étape 4: Cycle de vie
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" checked>
      
      <label class="md-nav__link" for="__nav_2_3">
        Créer votre propre boilerplate
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Créer votre propre boilerplate" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Créer votre propre boilerplate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../step-1-new-channel/" class="md-nav__link">
        Étape 1: Nouveau channel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../step-2-add-models/" class="md-nav__link">
        Étape 2: Ajouter des modèles de données
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../step-3-boilerplate-and-templates/" class="md-nav__link">
        Étape 3: Ajouter des templates
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Étape 4: Rédiger les templates
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Étape 4: Rédiger les templates
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manipulation-du-modele-de-donnees" class="md-nav__link">
    Manipulation du modèle de données
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exemples-de-code" class="md-nav__link">
    Exemples de code
  </a>
  
    <nav class="md-nav" aria-label="Exemples de code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#noms" class="md-nav__link">
    Noms
  </a>
  
    <nav class="md-nav" aria-label="Noms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creer-une-classe-pour-le-modele-de-donnees-courant" class="md-nav__link">
    Créer une classe pour le modèle de données courant
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditions" class="md-nav__link">
    Conditions
  </a>
  
    <nav class="md-nav" aria-label="Conditions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inclure-les-dependances-en-fonction-des-attributs-du-champ" class="md-nav__link">
    Inclure les dépendances en fonction des attributs du champ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valider-la-session-si-loperation-necessite-une-authentification" class="md-nav__link">
    Valider la session si l'opération nécessite une authentification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tester-si-le-modele-de-donnees-est-geo-localise" class="md-nav__link">
    Tester si le modèle de données est géo-localisé
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtenir-des-relations-basees-sur-la-cardinalite" class="md-nav__link">
    Obtenir des relations basées sur la cardinalité
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iterations" class="md-nav__link">
    Itérations
  </a>
  
    <nav class="md-nav" aria-label="Itérations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remplir-un-tableau-avec-tous-les-noms-de-champs-caches" class="md-nav__link">
    Remplir un tableau avec tous les noms de champs cachés
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creer-un-tableau-contenant-toutes-les-valeurs-possibles-dune-enumeration" class="md-nav__link">
    Créer un tableau contenant toutes les valeurs possibles d'une énumération
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creer-un-fichier-dindex-comprenant-tous-les-modeles-de-donnees" class="md-nav__link">
    Créer un fichier d'index comprenant tous les modèles de données
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creer-un-fichier-dindex-comprenant-des-modeles-accessibles-uniquement-par-les-administrateurs" class="md-nav__link">
    Créer un fichier d'index comprenant des modèles accessibles uniquement par les administrateurs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definir-une-valeur-par-defaut-en-fonction-du-type-de-donnees" class="md-nav__link">
    Définir une valeur par défaut en fonction du type de données
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importer-toutes-les-dependances" class="md-nav__link">
    Importer toutes les dépendances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suppression-en-cascade" class="md-nav__link">
    Suppression en cascade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    Notes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta-donnees" class="md-nav__link">
    Meta-données
  </a>
  
    <nav class="md-nav" aria-label="Meta-données">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tester-si-une-meta-donnee-est-definie" class="md-nav__link">
    Tester si une meta-donnée est définie
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exclusion-de-fichiers-generes" class="md-nav__link">
    Exclusion de fichiers générés
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../step-5-models-validator/" class="md-nav__link">
        Étape 5: Validateur de modèles de données
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      <label class="md-nav__link" for="__nav_2_4">
        Concepts
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Concepts" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/terminology/" class="md-nav__link">
        Terminologie
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/key-concepts/" class="md-nav__link">
        Concepts clés
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/models/" class="md-nav__link">
        Modèles de données
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        Dépannage
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Référence
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Référence" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Référence
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/cli/" class="md-nav__link">
        CLI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/hapify-syntax/" class="md-nav__link">
        Syntaxe Hapify
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/ejs-javascript/" class="md-nav__link">
        EJS & JavaScript
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/model-object/" class="md-nav__link">
        Objet modèle
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Exemples
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Exemples" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Exemples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../code-samples/javascript/" class="md-nav__link">
        JavaScript
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../code-samples/hapify/" class="md-nav__link">
        Hapify
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manipulation-du-modele-de-donnees" class="md-nav__link">
    Manipulation du modèle de données
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exemples-de-code" class="md-nav__link">
    Exemples de code
  </a>
  
    <nav class="md-nav" aria-label="Exemples de code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#noms" class="md-nav__link">
    Noms
  </a>
  
    <nav class="md-nav" aria-label="Noms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creer-une-classe-pour-le-modele-de-donnees-courant" class="md-nav__link">
    Créer une classe pour le modèle de données courant
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditions" class="md-nav__link">
    Conditions
  </a>
  
    <nav class="md-nav" aria-label="Conditions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inclure-les-dependances-en-fonction-des-attributs-du-champ" class="md-nav__link">
    Inclure les dépendances en fonction des attributs du champ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valider-la-session-si-loperation-necessite-une-authentification" class="md-nav__link">
    Valider la session si l'opération nécessite une authentification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tester-si-le-modele-de-donnees-est-geo-localise" class="md-nav__link">
    Tester si le modèle de données est géo-localisé
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtenir-des-relations-basees-sur-la-cardinalite" class="md-nav__link">
    Obtenir des relations basées sur la cardinalité
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iterations" class="md-nav__link">
    Itérations
  </a>
  
    <nav class="md-nav" aria-label="Itérations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remplir-un-tableau-avec-tous-les-noms-de-champs-caches" class="md-nav__link">
    Remplir un tableau avec tous les noms de champs cachés
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creer-un-tableau-contenant-toutes-les-valeurs-possibles-dune-enumeration" class="md-nav__link">
    Créer un tableau contenant toutes les valeurs possibles d'une énumération
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creer-un-fichier-dindex-comprenant-tous-les-modeles-de-donnees" class="md-nav__link">
    Créer un fichier d'index comprenant tous les modèles de données
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creer-un-fichier-dindex-comprenant-des-modeles-accessibles-uniquement-par-les-administrateurs" class="md-nav__link">
    Créer un fichier d'index comprenant des modèles accessibles uniquement par les administrateurs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definir-une-valeur-par-defaut-en-fonction-du-type-de-donnees" class="md-nav__link">
    Définir une valeur par défaut en fonction du type de données
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importer-toutes-les-dependances" class="md-nav__link">
    Importer toutes les dépendances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suppression-en-cascade" class="md-nav__link">
    Suppression en cascade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    Notes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta-donnees" class="md-nav__link">
    Meta-données
  </a>
  
    <nav class="md-nav" aria-label="Meta-données">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tester-si-une-meta-donnee-est-definie" class="md-nav__link">
    Tester si une meta-donnée est définie
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exclusion-de-fichiers-generes" class="md-nav__link">
    Exclusion de fichiers générés
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Étape 4: Rédiger les templates</h1>
                
                <h2 id="introduction">Introduction</h2>
<p>Cette section aborde des cas d'utilisation typiques des templates. Chaque exemple de code est fourni avec les moteurs de templates suivants:</p>
<ul>
<li>Hapify (Syntaxes longue et courte)</li>
<li>EJS</li>
<li>JavaScript</li>
</ul>
<p>Pour connaitre tous les détails de la syntaxe Hapify, veuillez vous référer <a href="../../../reference/hapify-syntax/">ici</a>.</p>
<p>Pour vous renseigner sur la syntaxe EJS, veuillez vous référer à la <a href="https://ejs.co/#docs">documentation officielle</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Attention</p>
<p>Toutes les fonctionnalités d'EJS sont disponibles, sauf la fonctionnalité <code>include</code>.
Cette fonction est volontairement désactivée afin que les templates n'aient pas accès à votre système de fichiers.</p>
</div>
<h3 id="manipulation-du-modele-de-donnees">Manipulation du modèle de données</h3>
<p>Les templates reçoivent en entrée l'<a href="../../../reference/model-object/">objet modèle</a>. Cet objet, injecté dans les templates, explicite le modèle de données ainsi que toutes ses propriétés et relations, de sorte qu'elles soient facilement accessibles depuis le template.</p>
<p>Nous vous recommandons de connaître sa structure avant de vous lancer dans l'écriture de templates.</p>
<h2 id="exemples-de-code">Exemples de code</h2>
<h3 id="noms">Noms</h3>
<h4 id="creer-une-classe-pour-le-modele-de-donnees-courant">Créer une classe pour le modèle de données courant</h4>
<p>Ce bloc crée une classe pour le modèle de données (en casse <code>pascal</code>) et défini le nom de la clé primaire, en casse <code>snake</code>.</p>
<div class="tabbed-set" data-tabs="1:5"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>class<span class="w"> </span><span class="s">&lt;&lt;Model pascal&gt;&gt;</span><span class="w"> </span>{
<span class="w">    </span>private<span class="w"> </span>primaryKey<span class="w"> </span>=<span class="w"> </span>&#39;<span class="s">&lt;&lt;PrimaryField snake&gt;&gt;</span>&#39;;
}
</code></pre></div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>class<span class="w"> </span><span class="s">&lt;&lt;M AA&gt;&gt;</span><span class="w"> </span>{
<span class="w">    </span>private<span class="w"> </span>primaryKey<span class="w"> </span>=<span class="w"> </span>&#39;<span class="s">&lt;&lt;P a_a&gt;&gt;</span>&#39;;
}
</code></pre></div>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><label for="__tabbed_1_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">class</span> <span class="o">&lt;%=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span> <span class="p">{</span>
    <span class="kr">private</span> <span class="nx">primaryKey</span> <span class="o">=</span> <span class="s1">&#39;&lt;%= model.fields.primary.names.snake %&gt;&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><label for="__tabbed_1_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">return</span> <span class="sb">`class </span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span><span class="si">}</span><span class="sb"> {</span>
<span class="sb">    private primaryKey = &#39;</span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">primary</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">snake</span><span class="si">}</span><span class="sb">&#39;;</span>
<span class="sb">}`</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><label for="__tabbed_1_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">class</span> <span class="nx">Place</span> <span class="p">{</span>
    <span class="kr">private</span> <span class="nx">primaryKey</span> <span class="o">=</span> <span class="s1">&#39;_id&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
<h3 id="conditions">Conditions</h3>
<h4 id="inclure-les-dependances-en-fonction-des-attributs-du-champ">Inclure les dépendances en fonction des attributs du champ</h4>
<p>Dans un template de type <code>one model</code>, ce bloc importe le pilote MongoDB si le modèle de données a une relation avec un autre.</p>
<div class="tabbed-set" data-tabs="2:5"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;if</span><span class="w"> </span><span class="n">Fields</span><span class="w"> </span><span class="n">entity</span><span class="o">&gt;&gt;</span>
const<span class="w"> </span>mongoDb<span class="w"> </span>=<span class="w"> </span>require(&#39;mongodb&#39;);
<span class="o">&lt;&lt;endif&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;?</span><span class="w"> </span><span class="n">F</span><span class="w"> </span><span class="n">tE</span><span class="o">&gt;&gt;</span>
const<span class="w"> </span>mongoDb<span class="w"> </span>=<span class="w"> </span>require(&#39;mongodb&#39;);
<span class="o">&lt;&lt;?&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><label for="__tabbed_2_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;entity&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="kr">const</span> <span class="nx">mongoDb</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;mongodb&#39;</span><span class="p">);</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><label for="__tabbed_2_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;entity&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`const mongoDb = require(&#39;mongodb&#39;);`</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_2_5" name="__tabbed_2" type="radio" /><label for="__tabbed_2_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">mongoDb</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;mongodb&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
<h4 id="valider-la-session-si-loperation-necessite-une-authentification">Valider la session si l'opération nécessite une authentification</h4>
<p>Dans un template de type <code>one model</code>, si l'action <code>create</code> requiert au plus un utilisateur authentifié, ce bloc récupère l'utilisateur connecté.</p>
<div class="admonition info">
<p class="admonition-title">Rappel</p>
<p><code>guest</code> est l'accès le plus permissif et <code>admin</code> le moins permissif. Par conséquent <code>admin &lt; owner &lt; authenticated &lt; guest</code>.</p>
</div>
<div class="tabbed-set" data-tabs="3:5"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;if</span><span class="w"> </span><span class="n">CreateAccess</span><span class="w"> </span><span class="n">lteAuth</span><span class="o">&gt;&gt;</span>
const<span class="w"> </span>user<span class="w"> </span>=<span class="w"> </span>Session.getCurrent();
<span class="o">&lt;&lt;endif&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><label for="__tabbed_3_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;?</span><span class="w"> </span><span class="n">Ac</span><span class="w"> </span><span class="n">au]</span><span class="o">&gt;&gt;</span>
const<span class="w"> </span>user<span class="w"> </span>=<span class="w"> </span>Session.getCurrent();
<span class="o">&lt;&lt;?&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><label for="__tabbed_3_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">accesses</span><span class="p">.</span><span class="nx">create</span><span class="p">.</span><span class="nx">lteAuth</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">Session</span><span class="p">.</span><span class="nx">getCurrent</span><span class="p">();</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_3_4" name="__tabbed_3" type="radio" /><label for="__tabbed_3_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">accesses</span><span class="p">.</span><span class="nx">create</span><span class="p">.</span><span class="nx">lteAuth</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`const user = Session.getCurrent();`</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_3_5" name="__tabbed_3" type="radio" /><label for="__tabbed_3_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">Session</span><span class="p">.</span><span class="nx">getCurrent</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
<h4 id="tester-si-le-modele-de-donnees-est-geo-localise">Tester si le modèle de données est géo-localisé</h4>
<p>Dans un template de type <code>one model</code>, si le modèle de données a la propriété <code>isGeolocated</code> (c'est-à-dire si le modèle de données contient au moins un champ latitude et un champ longitude),
ce bloc importe le composant de sélection de la position sur la carte.</p>
<div class="tabbed-set" data-tabs="4:5"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><label for="__tabbed_4_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;if</span><span class="w"> </span><span class="n">Model</span><span class="w"> </span><span class="n">isGeolocated</span><span class="o">&gt;&gt;</span>
&lt;app-map-position-picker<span class="w"> </span>[model]=&quot;<span class="s">&lt;&lt;Model camel&gt;&gt;</span>&quot;&gt;&lt;/app-map-position-picker&gt;
<span class="o">&lt;&lt;endif&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><label for="__tabbed_4_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;?</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">pGeo</span><span class="o">&gt;&gt;</span>
&lt;app-map-position-picker<span class="w"> </span>[model]=&quot;<span class="s">&lt;&lt;M aA&gt;&gt;</span>&quot;&gt;&lt;/app-map-position-picker&gt;
<span class="o">&lt;&lt;?&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><label for="__tabbed_4_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">isGeolocated</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="o">&lt;</span><span class="nx">app</span><span class="o">-</span><span class="nx">map</span><span class="o">-</span><span class="nx">position</span><span class="o">-</span><span class="nx">picker</span> <span class="p">[</span><span class="nx">model</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;&lt;%= model.names.camel %&gt;&quot;</span><span class="o">&gt;&lt;</span><span class="err">/app-map-position-picker&gt;</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_4_4" name="__tabbed_4" type="radio" /><label for="__tabbed_4_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">isGeolocated</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`&lt;app-map-position-picker [model]=&quot;</span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="sb">&quot;&gt;&lt;/app-map-position-picker&gt;`</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_4_5" name="__tabbed_4" type="radio" /><label for="__tabbed_4_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">app-map-position-picker</span> <span class="err">[</span><span class="na">model</span><span class="err">]=&quot;</span><span class="na">place</span><span class="err">&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">app-map-position-picker</span><span class="p">&gt;</span>
</code></pre></div>
</div>
</div>
<h4 id="obtenir-des-relations-basees-sur-la-cardinalite">Obtenir des relations basées sur la cardinalité</h4>
<p>Cet exemple crée une méthode récupérant des entités dans un magasin, selon le type de relation : <code>one-to-one</code>, <code>one-to-many</code> ou <code>many-to-many</code>.</p>
<div class="tabbed-set" data-tabs="5:5"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><label for="__tabbed_5_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>class<span class="w"> </span><span class="s">&lt;&lt;Model pascal&gt;&gt;</span><span class="w"> </span>extends<span class="w"> </span>BaseModel<span class="w"> </span>{
<span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Fields</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="n">field</span><span class="o">&gt;&gt;</span>
<span class="w">    </span>get<span class="s">&lt;&lt;field pascal&gt;&gt;</span>()<span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;&lt;if</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">oneOne</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">oneMany</span><span class="o">&gt;&gt;</span>
<span class="w">        </span>return<span class="w"> </span>this.<span class="s">&lt;&lt;field.model camel&gt;&gt;</span>Store.findOne(this.properties.<span class="s">&lt;&lt;field camel&gt;&gt;</span>);
<span class="w">    </span><span class="o">&lt;&lt;elseif</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">manyMany</span><span class="o">&gt;&gt;</span>
<span class="w">        </span>return<span class="w"> </span>this.<span class="s">&lt;&lt;field.model camel&gt;&gt;</span>Store.findMany(this.properties.<span class="s">&lt;&lt;field camel&gt;&gt;</span>);
<span class="w">    </span><span class="o">&lt;&lt;endif&gt;&gt;</span>
<span class="w">    </span>}
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
}
</code></pre></div>
</div>
<input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><label for="__tabbed_5_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>class<span class="w"> </span><span class="s">&lt;&lt;M AA&gt;&gt;</span><span class="w"> </span>extends<span class="w"> </span>BaseModel<span class="w"> </span>{
<span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">F</span><span class="w"> </span><span class="n">tE</span><span class="w"> </span><span class="n">f</span><span class="o">&gt;&gt;</span>
<span class="w">    </span>get<span class="s">&lt;&lt;f AA&gt;&gt;</span>()<span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;&lt;?</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">tEoo</span><span class="w"> </span><span class="k">+</span><span class="w"> </span><span class="n">tEom</span><span class="o">&gt;&gt;</span>
<span class="w">        </span>return<span class="w"> </span>this.<span class="s">&lt;&lt;f.m aA&gt;&gt;</span>Store.findOne(this.properties.<span class="s">&lt;&lt;f aA&gt;&gt;</span>);
<span class="w">    </span><span class="o">&lt;&lt;??</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">tEmm</span><span class="o">&gt;&gt;</span>
<span class="w">        </span>return<span class="w"> </span>this.<span class="s">&lt;&lt;f.m aA&gt;&gt;</span>Store.findMany(this.properties.<span class="s">&lt;&lt;f aA&gt;&gt;</span>);
<span class="w">    </span><span class="o">&lt;&lt;?&gt;&gt;</span>
<span class="w">    </span>}
<span class="o">&lt;&lt;@&gt;&gt;</span>
}
</code></pre></div>
</div>
<input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><label for="__tabbed_5_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">class</span> <span class="o">&lt;%=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span> <span class="kr">extends</span> <span class="nx">BaseModel</span> <span class="p">{</span>
<span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;entity&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="o">-%&gt;</span>
    <span class="nx">get</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span><span class="p">()</span> <span class="p">{</span>
    <span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">subtype</span> <span class="o">===</span> <span class="s1">&#39;oneOne&#39;</span> <span class="o">||</span> <span class="nx">field</span><span class="p">.</span><span class="nx">subtype</span> <span class="o">===</span> <span class="s1">&#39;oneMany&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span> <span class="o">%&gt;</span><span class="nx">Store</span><span class="p">.</span><span class="nx">findOne</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span> <span class="o">%&gt;</span><span class="p">);</span>
    <span class="o">&lt;%</span> <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">subtype</span> <span class="o">===</span> <span class="s1">&#39;manyMany&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span> <span class="o">%&gt;</span><span class="nx">Store</span><span class="p">.</span><span class="nx">findMany</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span> <span class="o">%&gt;</span><span class="p">);</span>
    <span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
    <span class="p">}</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<input id="__tabbed_5_4" name="__tabbed_5" type="radio" /><label for="__tabbed_5_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="nx">output</span> <span class="o">+=</span> <span class="sb">`class </span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span><span class="si">}</span><span class="sb"> extends BaseModel {</span>
<span class="sb">    </span><span class="si">${</span><span class="nx">getRelations</span><span class="p">()</span><span class="si">}</span><span class="sb"></span>
<span class="sb">}`</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">getRelations</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;entity&#39;</span><span class="p">).</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">field</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">getRelation</span><span class="p">(</span><span class="nx">field</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;\n\t&#39;</span><span class="p">;</span>
    <span class="p">},</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getRelation</span><span class="p">(</span><span class="nx">field</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">method</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">subtype</span> <span class="o">===</span> <span class="s1">&#39;oneOne&#39;</span> <span class="o">||</span> <span class="nx">field</span><span class="p">.</span><span class="nx">subtype</span> <span class="o">===</span> <span class="s1">&#39;oneMany&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">method</span> <span class="o">=</span> <span class="s1">&#39;findOne&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">subtype</span> <span class="o">===</span> <span class="s1">&#39;manyMany&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">method</span> <span class="o">=</span> <span class="s1">&#39;findMany&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="sb">`get</span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span><span class="si">}</span><span class="sb">() {</span>
<span class="sb">        return this.</span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="sb">Store.</span><span class="si">${</span><span class="nx">method</span><span class="si">}</span><span class="sb">(this.properties.</span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="sb">);</span>
<span class="sb">    }`</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_5_5" name="__tabbed_5" type="radio" /><label for="__tabbed_5_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">class</span> <span class="nx">User</span> <span class="kr">extends</span> <span class="nx">BaseModel</span> <span class="p">{</span>
    <span class="nx">getAvatar() {</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">avatarStore</span><span class="p">.</span><span class="nx">findOne</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">avatar</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">getBookmarks() {</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">placeStore</span><span class="p">.</span><span class="nx">findMany</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">bookmarks</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
<h3 id="iterations">Itérations</h3>
<h4 id="remplir-un-tableau-avec-tous-les-noms-de-champs-caches">Remplir un tableau avec tous les noms de champs cachés</h4>
<p>Dans un template de type <code>one model</code>, ce bloc crée un tableau (en JavaScript) qui contient les noms des champs <code>hidden</code> (en casse <code>camel</code>).</p>
<div class="tabbed-set" data-tabs="6:5"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><label for="__tabbed_6_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>const<span class="w"> </span>hiddenFields<span class="w"> </span>=<span class="w"> </span>[
<span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Fields</span><span class="w"> </span><span class="n">hidden</span><span class="w"> </span><span class="n">field</span><span class="o">&gt;&gt;</span>
<span class="w">    </span>&#39;<span class="s">&lt;&lt;field camel&gt;&gt;</span>&#39;,
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
];
</code></pre></div>
</div>
<input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><label for="__tabbed_6_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>const<span class="w"> </span>hiddenFields<span class="w"> </span>=<span class="w"> </span>[
<span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">F</span><span class="w"> </span><span class="n">hd</span><span class="w"> </span><span class="n">f</span><span class="o">&gt;&gt;</span>
<span class="w">    </span>&#39;<span class="s">&lt;&lt;f aA&gt;&gt;</span>&#39;,
<span class="o">&lt;&lt;@&gt;&gt;</span>
];
</code></pre></div>
</div>
<input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><label for="__tabbed_6_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">hiddenFields</span> <span class="o">=</span> <span class="p">[</span>
<span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">hidden</span><span class="p">))</span> <span class="p">{</span> <span class="o">-%&gt;</span>
    <span class="s1">&#39;&lt;%= field.names.camel %&gt;&#39;</span><span class="p">,</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
<span class="p">];</span>
</code></pre></div>
</div>
<input id="__tabbed_6_4" name="__tabbed_6" type="radio" /><label for="__tabbed_6_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">hiddenFieldsNames</span> <span class="o">=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span>
    <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">hidden</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="sb">`&#39;</span><span class="si">${</span><span class="nx">f</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="sb">&#39;`</span><span class="p">);</span>
<span class="nx">output</span> <span class="o">+=</span> <span class="sb">`const hiddenFields = [</span>
<span class="sb">    </span><span class="si">${</span><span class="nx">hiddenFieldsNames</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,\n\t&quot;</span><span class="p">)</span><span class="si">}</span><span class="sb"></span>
<span class="sb">];`</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_6_5" name="__tabbed_6" type="radio" /><label for="__tabbed_6_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">hiddenFields</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;password&#39;</span><span class="p">,</span>
    <span class="s1">&#39;token&#39;</span><span class="p">,</span>
<span class="p">];</span>
</code></pre></div>
</div>
</div>
<h4 id="creer-un-tableau-contenant-toutes-les-valeurs-possibles-dune-enumeration">Créer un tableau contenant toutes les valeurs possibles d'une énumération</h4>
<p>Dans un template de type <code>one model</code>, ce bloc définit les valeurs d'énumération sous forme de tableaux (en casse <code>constant</code>).</p>
<div class="tabbed-set" data-tabs="7:5"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><label for="__tabbed_7_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Fields</span><span class="w"> </span><span class="n">enum</span><span class="w"> </span><span class="n">field</span><span class="o">&gt;&gt;</span>
const<span class="w"> </span><span class="s">&lt;&lt;field camel&gt;&gt;</span>Values<span class="w"> </span>=<span class="w"> </span>[
<span class="w">    </span><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">field</span><span class="p">.</span><span class="n">enum</span><span class="w"> </span><span class="n">e</span><span class="o">&gt;&gt;</span>
<span class="w">    </span>&#39;<span class="s">&lt;&lt;e constant&gt;&gt;</span>&#39;,
<span class="w">    </span><span class="o">&lt;&lt;endfor&gt;&gt;</span>
];
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><label for="__tabbed_7_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">F</span><span class="w"> </span><span class="n">tU</span><span class="w"> </span><span class="n">f</span><span class="o">&gt;&gt;</span>
const<span class="w"> </span><span class="s">&lt;&lt;f aA&gt;&gt;</span>Values<span class="w"> </span>=<span class="w"> </span>[
<span class="w">    </span><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">e</span><span class="w"> </span><span class="n">e</span><span class="o">&gt;&gt;</span>
<span class="w">    </span>&#39;<span class="s">&lt;&lt;e A_A&gt;&gt;</span>&#39;,
<span class="w">    </span><span class="o">&lt;&lt;@&gt;&gt;</span>
];
<span class="o">&lt;&lt;@&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><label for="__tabbed_7_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;enum&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="kr">const</span> <span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span> <span class="o">%&gt;</span><span class="nx">Values</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">e</span> <span class="k">of</span> <span class="nx">field</span><span class="p">.</span><span class="kr">enum</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
    <span class="s1">&#39;&lt;%= e.names.constant %&gt;&#39;</span><span class="p">,</span>
    <span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
<span class="p">];</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_7_4" name="__tabbed_7" type="radio" /><label for="__tabbed_7_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;enum&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">enums</span> <span class="o">=</span> <span class="nx">field</span><span class="p">.</span><span class="kr">enum</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">e</span> <span class="p">=&gt;</span> <span class="sb">`&#39;</span><span class="si">${</span><span class="nx">e</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">constant</span><span class="si">}</span><span class="sb">&#39;`</span><span class="p">);</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`const </span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="sb">Values = [</span>
<span class="sb">    </span><span class="si">${</span><span class="nx">enums</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;,\n\t&#39;</span><span class="p">)</span><span class="si">}</span><span class="sb"></span>
<span class="sb">];`</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_7_5" name="__tabbed_7" type="radio" /><label for="__tabbed_7_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">roleValues</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;ADMIN&#39;</span><span class="p">,</span>
    <span class="s1">&#39;USER&#39;</span><span class="p">,</span>
    <span class="s1">&#39;CUSTOMER&#39;</span><span class="p">,</span>
<span class="p">];</span>
<span class="kr">const</span> <span class="nx">statusValues</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;BUSY&#39;</span><span class="p">,</span>
    <span class="s1">&#39;AVAILABLE&#39;</span><span class="p">,</span>
    <span class="s1">&#39;OUT_OF_OFFICE&#39;</span><span class="p">,</span>
<span class="p">];</span>
</code></pre></div>
</div>
</div>
<h4 id="creer-un-fichier-dindex-comprenant-tous-les-modeles-de-donnees">Créer un fichier d'index comprenant tous les modèles de données</h4>
<p>Dans un template de type <code>all models</code>, ceci appellera les fichiers de tous les modèles.</p>
<div class="tabbed-set" data-tabs="8:5"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><label for="__tabbed_8_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Models</span><span class="w"> </span><span class="n">model</span><span class="o">&gt;&gt;</span>
require_once(&#39;./<span class="s">&lt;&lt;model kebab&gt;&gt;</span>.php&#39;);
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><label for="__tabbed_8_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">m</span><span class="o">&gt;&gt;</span>
require_once(&#39;./<span class="s">&lt;&lt;m a-a&gt;&gt;</span>.php&#39;);
<span class="o">&lt;&lt;@&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><label for="__tabbed_8_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">model</span> <span class="k">of</span> <span class="nx">models</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="nx">require_once</span><span class="p">(</span><span class="s1">&#39;./&lt;%= model.names.kebab %&gt;.php&#39;</span><span class="p">);</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_8_4" name="__tabbed_8" type="radio" /><label for="__tabbed_8_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">model</span> <span class="k">of</span> <span class="nx">models</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`require_once(&#39;./</span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">kebab</span><span class="si">}</span><span class="sb">.php&#39;);</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_8_5" name="__tabbed_8" type="radio" /><label for="__tabbed_8_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="x">require_once(&#39;./user.php&#39;);</span>
<span class="x">require_once(&#39;./place.php&#39;);</span>
<span class="x">require_once(&#39;./service.php&#39;);</span>
<span class="x">require_once(&#39;./place-category.php&#39;);</span>
</code></pre></div>
</div>
</div>
<h4 id="creer-un-fichier-dindex-comprenant-des-modeles-accessibles-uniquement-par-les-administrateurs">Créer un fichier d'index comprenant des modèles accessibles uniquement par les administrateurs</h4>
<p>Si vous voulez restreindre la boucle précédente pour les modèles qui ne contiennent que des opérations de type admin :</p>
<div class="tabbed-set" data-tabs="9:5"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><label for="__tabbed_9_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Models</span><span class="w"> </span><span class="n">onlyAdmin</span><span class="w"> </span><span class="n">model</span><span class="o">&gt;&gt;</span>
require_once(&#39;./<span class="s">&lt;&lt;model kebab&gt;&gt;</span>.php&#39;);
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><label for="__tabbed_9_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">pOAd</span><span class="w"> </span><span class="n">m</span><span class="o">&gt;&gt;</span>
require_once(&#39;./<span class="s">&lt;&lt;m a-a&gt;&gt;</span>.php&#39;);
<span class="o">&lt;&lt;@&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_9_3" name="__tabbed_9" type="radio" /><label for="__tabbed_9_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">model</span> <span class="k">of</span> <span class="nx">models</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">m</span> <span class="p">=&gt;</span> <span class="nx">m</span><span class="p">.</span><span class="nx">accesses</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">onlyAdmin</span><span class="p">))</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="nx">require_once</span><span class="p">(</span><span class="s1">&#39;./&lt;%= model.names.kebab %&gt;.php&#39;</span><span class="p">);</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_9_4" name="__tabbed_9" type="radio" /><label for="__tabbed_9_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">model</span> <span class="k">of</span> <span class="nx">models</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">m</span> <span class="p">=&gt;</span> <span class="nx">m</span><span class="p">.</span><span class="nx">accesses</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">onlyAdmin</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`require_once(&#39;./</span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">kebab</span><span class="si">}</span><span class="sb">.php&#39;);</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_9_5" name="__tabbed_9" type="radio" /><label for="__tabbed_9_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="x">require_once(&#39;./menu.php&#39;);</span>
<span class="x">require_once(&#39;./menu-part.php&#39;);</span>
<span class="x">require_once(&#39;./menu-item.php&#39;);</span>
<span class="x">require_once(&#39;./order.php&#39;);</span>
</code></pre></div>
</div>
</div>
<h4 id="definir-une-valeur-par-defaut-en-fonction-du-type-de-donnees">Définir une valeur par défaut en fonction du type de données</h4>
<p>Dans un template de type <code>one model</code>, ce bloc attribue une valeur au champ en fonction de son type pour tous les champs <code>internal</code>.
Si le type du champ est <code>boolean</code>, il attribue la valeur <code>false</code>, si le type est <code>string</code>, il attribue la valeur <code>''</code>, si le type est <code>number</code>, il attribue la valeur <code>0</code>, sinon il attribue la valeur <code>NULL</code>.
Ce template génère du PHP.</p>
<div class="tabbed-set" data-tabs="10:5"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><label for="__tabbed_10_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Fields</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="n">field</span><span class="o">&gt;&gt;</span>
<span class="w">    </span><span class="o">&lt;&lt;if</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">boolean</span><span class="o">&gt;&gt;</span>
$default<span class="s">&lt;&lt;field pascal&gt;&gt;</span><span class="w"> </span>=<span class="w"> </span>false;
<span class="w">    </span><span class="o">&lt;&lt;elseif</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;&gt;</span>
$default<span class="s">&lt;&lt;field pascal&gt;&gt;</span><span class="w"> </span>=<span class="w"> </span>&#39;&#39;;
<span class="w">    </span><span class="o">&lt;&lt;elseif</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">number</span><span class="o">&gt;&gt;</span>
$default<span class="s">&lt;&lt;field pascal&gt;&gt;</span><span class="w"> </span>=<span class="w"> </span>0;
<span class="w">    </span><span class="o">&lt;&lt;else&gt;&gt;</span>
$default<span class="s">&lt;&lt;field pascal&gt;&gt;</span><span class="w"> </span>=<span class="w"> </span>NULL;
<span class="w">    </span><span class="o">&lt;&lt;endif&gt;&gt;</span>
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><label for="__tabbed_10_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">F</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">f</span><span class="o">&gt;&gt;</span>
<span class="w">    </span><span class="o">&lt;&lt;?</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">tB</span><span class="o">&gt;&gt;</span>
$default<span class="s">&lt;&lt;f AA&gt;&gt;</span><span class="w"> </span>=<span class="w"> </span>false;
<span class="w">    </span><span class="o">&lt;&lt;??</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">tS</span><span class="o">&gt;&gt;</span>
$default<span class="s">&lt;&lt;f AA&gt;&gt;</span><span class="w"> </span>=<span class="w"> </span>&#39;&#39;;
<span class="w">    </span><span class="o">&lt;&lt;??</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">tN</span><span class="o">&gt;&gt;</span>
$default<span class="s">&lt;&lt;f AA&gt;&gt;</span><span class="w"> </span>=<span class="w"> </span>0;
<span class="w">    </span><span class="o">&lt;&lt;??&gt;&gt;</span>
$default<span class="s">&lt;&lt;f AA&gt;&gt;</span><span class="w"> </span>=<span class="w"> </span>NULL;
<span class="w">    </span><span class="o">&lt;&lt;?&gt;&gt;</span>
<span class="o">&lt;&lt;@&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><label for="__tabbed_10_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">internal</span><span class="p">))</span> <span class="p">{</span> <span class="o">-%&gt;</span>
    <span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;boolean&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="nx">$default</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="o">&lt;%</span> <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="nx">$default</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="o">&lt;%</span> <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="nx">$default</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
    <span class="o">&lt;%</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="nx">$default</span><span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span> <span class="o">=</span> <span class="nx">NULL</span><span class="p">;</span>
    <span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_10_4" name="__tabbed_10" type="radio" /><label for="__tabbed_10_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="nx">f</span><span class="p">.</span><span class="nx">internal</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`$default</span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span><span class="si">}</span><span class="sb"> = </span><span class="si">${</span><span class="nx">getDefaultValue</span><span class="p">(</span><span class="nx">field</span><span class="p">)</span><span class="si">}</span><span class="sb">;</span><span class="err">\</span><span class="sb">n`</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">getDefaultValue</span><span class="p">(</span><span class="nx">field</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s1">&#39;boolean&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="s1">&#39;false&#39;</span><span class="p">;</span>
        <span class="k">case</span> <span class="s1">&#39;string&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="s1">&#39;number&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">return</span> <span class="s1">&#39;NULL&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<input id="__tabbed_10_5" name="__tabbed_10" type="radio" /><label for="__tabbed_10_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="x">$defaultId = &#39;&#39;;</span>
<span class="x">$defaultCreatedAt = NULL;</span>
<span class="x">$defaultStock = 0;</span>
</code></pre></div>
</div>
</div>
<h4 id="importer-toutes-les-dependances">Importer toutes les dépendances</h4>
<p>Dans un template de type <code>one model</code>, ce bloc importe d'autres modèles de données pointés par des champs de type entité.
Si le modèle de données a une auto-dépendance, il ne sera pas inclus dans la boucle.</p>
<div class="tabbed-set" data-tabs="11:5"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><label for="__tabbed_11_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Dependencies</span><span class="w"> </span><span class="n">dep</span><span class="o">&gt;&gt;</span>
import<span class="w"> </span>{<span class="s">&lt;&lt;dep pascal&gt;&gt;</span>}<span class="w"> </span>from<span class="w"> </span>&#39;../<span class="s">&lt;&lt;dep kebab&gt;&gt;</span>&#39;;
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><label for="__tabbed_11_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="n">d</span><span class="o">&gt;&gt;</span>
import<span class="w"> </span>{<span class="s">&lt;&lt;d AA&gt;&gt;</span>}<span class="w"> </span>from<span class="w"> </span>&#39;../<span class="s">&lt;&lt;d a-a&gt;&gt;</span>&#39;;
<span class="o">&lt;&lt;@&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><label for="__tabbed_11_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">dep</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">dependencies</span><span class="p">.</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="kr">import</span> <span class="p">{</span><span class="o">&lt;%=</span> <span class="nx">dep</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../&lt;%= dep.names.kebab %&gt;&#39;</span><span class="p">;</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_11_4" name="__tabbed_11" type="radio" /><label for="__tabbed_11_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">dep</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">dependencies</span><span class="p">.</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`import {</span><span class="si">${</span><span class="nx">dep</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span><span class="si">}</span><span class="sb">} from &#39;../</span><span class="si">${</span><span class="nx">dep</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">kebab</span><span class="si">}</span><span class="sb">&#39;;</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_11_5" name="__tabbed_11" type="radio" /><label for="__tabbed_11_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">Restaurant</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../restaurant&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">User</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../user&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">MenuPart</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../menu-part&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">MenuItem</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../menu-item&#39;</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
<p>Vous pouvez également filtrer par attributs de champ référent.
Ce bloc exclut les modèles de données dont les champs référents sont cachés :</p>
<div class="tabbed-set" data-tabs="12:5"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><label for="__tabbed_12_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Dependencies</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">hidden</span><span class="w"> </span><span class="n">dep</span><span class="o">&gt;&gt;</span>
import<span class="w"> </span>{<span class="s">&lt;&lt;dep pascal&gt;&gt;</span>}<span class="w"> </span>from<span class="w"> </span>&#39;../<span class="s">&lt;&lt;dep kebab&gt;&gt;</span>&#39;;
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><label for="__tabbed_12_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="n">!hd</span><span class="w"> </span><span class="n">d</span><span class="o">&gt;&gt;</span>
import<span class="w"> </span>{<span class="s">&lt;&lt;d AA&gt;&gt;</span>}<span class="w"> </span>from<span class="w"> </span>&#39;../<span class="s">&lt;&lt;d a-a&gt;&gt;</span>&#39;;
<span class="o">&lt;&lt;@&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_12_3" name="__tabbed_12" type="radio" /><label for="__tabbed_12_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">dep</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">dependencies</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">hidden</span><span class="p">))</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="kr">import</span> <span class="p">{</span><span class="o">&lt;%=</span> <span class="nx">dep</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../&lt;%= dep.names.kebab %&gt;&#39;</span><span class="p">;</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_12_4" name="__tabbed_12" type="radio" /><label for="__tabbed_12_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">dep</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">dependencies</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span> <span class="p">=&gt;</span> <span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">hidden</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`import {</span><span class="si">${</span><span class="nx">dep</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span><span class="si">}</span><span class="sb">} from &#39;../</span><span class="si">${</span><span class="nx">dep</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">kebab</span><span class="si">}</span><span class="sb">&#39;;</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_12_5" name="__tabbed_12" type="radio" /><label for="__tabbed_12_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">PlaceCategory</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../place-category&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Service</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../service&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">User</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../user&#39;</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
<h4 id="suppression-en-cascade">Suppression en cascade</h4>
<p>Dans un template de type <code>one model</code>, ce bloc énumère tous les modèles de données qui se réfèrent au modèle de données courant et les supprime.
La première itération boucle sur tous les modèles de données qui ont une dépendance à celui-ci.
La deuxième itération boucle sur toutes les relations d'entités contenues dans ces modèles de données dépendants.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Le tableau <code>ReferencedIn</code> contient tous les modèles de données qui se réfèrent au modèle de données courant à travers des champs de type entité.
Seuls les champs de type entité faisant référence sont définis dans ces modèles de données référents.
Par conséquent, si vous bouclez sur les champs des modèles de données référents, vous ne serez pas brouillés par d'autres champs.</p>
</div>
<div class="tabbed-set" data-tabs="13:5"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><label for="__tabbed_13_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">ReferencedIn</span><span class="w"> </span><span class="n">referrer</span><span class="o">&gt;&gt;</span>
<span class="w">    </span><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">referrer</span><span class="p">.</span><span class="n">fields</span><span class="w"> </span><span class="n">field</span><span class="o">&gt;&gt;</span>
await<span class="w"> </span>db.collection(&#39;<span class="s">&lt;&lt;referrer pascal&gt;&gt;</span>&#39;).deleteMany({<span class="w"> </span><span class="s">&lt;&lt;field snake&gt;&gt;</span>:<span class="w"> </span>id<span class="w"> </span>});
<span class="w">    </span><span class="o">&lt;&lt;endfor&gt;&gt;</span>
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><label for="__tabbed_13_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="n">m</span><span class="o">&gt;&gt;</span>
<span class="w">    </span><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">f</span><span class="w"> </span><span class="n">f</span><span class="o">&gt;&gt;</span>
await<span class="w"> </span>db.collection(&#39;<span class="s">&lt;&lt;m AA&gt;&gt;</span>&#39;).deleteMany({<span class="w"> </span><span class="s">&lt;&lt;f a_a&gt;&gt;</span>:<span class="w"> </span>id<span class="w"> </span>});
<span class="w">    </span><span class="o">&lt;&lt;@&gt;&gt;</span>
<span class="o">&lt;&lt;@&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_13_3" name="__tabbed_13" type="radio" /><label for="__tabbed_13_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">referrer</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">referencedIn</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
    <span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">referrer</span><span class="p">.</span><span class="nx">fields</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;&lt;%= referrer.names.pascal %&gt;&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">snake</span> <span class="o">%&gt;:</span> <span class="nx">id</span> <span class="p">});</span>
   <span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_13_4" name="__tabbed_13" type="radio" /><label for="__tabbed_13_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">referrer</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">referencedIn</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">referrer</span><span class="p">.</span><span class="nx">fields</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`await db.collection(&#39;</span><span class="si">${</span><span class="nx">referrer</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span><span class="si">}</span><span class="sb">&#39;).deleteMany({ </span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">snake</span><span class="si">}</span><span class="sb">: id });</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_13_5" name="__tabbed_13" type="radio" /><label for="__tabbed_13_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;Place&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="nx">owner</span><span class="o">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;Bookmark&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="nx">owner</span><span class="o">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;Message&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="nx">sender</span><span class="o">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;Message&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="nx">recipient</span><span class="o">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;Conversation&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="nx">participants</span><span class="o">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;Conversation&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="nx">closed_by</span><span class="o">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;ConversationReport&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="nx">complainant</span><span class="o">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;ConversationReport&#39;</span><span class="p">).</span><span class="nx">deleteMany</span><span class="p">({</span> <span class="nx">defendant</span><span class="o">:</span> <span class="nx">id</span> <span class="p">});</span>
</code></pre></div>
</div>
</div>
<h2 id="notes">Notes</h2>
<p>Il est possible d'ajouter des notes au niveau d'un champ ou bien d'un modèle.
Voici comment les retrouver dans les templates:</p>
<div class="tabbed-set" data-tabs="14:5"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><label for="__tabbed_14_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;if</span><span class="w"> </span><span class="n">Model</span><span class="w"> </span><span class="n">hasNotes</span><span class="o">&gt;&gt;</span><span class="k">//</span><span class="w"> </span><span class="n">&lt;&lt;!</span><span class="w"> </span><span class="n">Model</span><span class="o">&gt;&gt;</span><span class="n">&lt;&lt;endif</span><span class="o">&gt;&gt;</span>
export<span class="w"> </span>class<span class="w"> </span><span class="s">&lt;&lt;Model pascal&gt;&gt;</span><span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Fields</span><span class="w"> </span><span class="n">field</span><span class="o">&gt;&gt;</span>
<span class="w">    </span>public<span class="w"> </span><span class="s">&lt;&lt;field camel&gt;&gt;</span>;<span class="w"> </span><span class="o">&lt;&lt;if</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">hasNotes</span><span class="o">&gt;&gt;</span><span class="k">//</span><span class="w"> </span><span class="n">&lt;&lt;!</span><span class="w"> </span><span class="n">field</span><span class="o">&gt;&gt;</span><span class="n">&lt;&lt;endif</span><span class="o">&gt;&gt;</span>
<span class="w">    </span><span class="o">&lt;&lt;endfor&gt;&gt;</span>
}
</code></pre></div>
</div>
<input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><label for="__tabbed_14_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;?</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">hN</span><span class="o">&gt;&gt;</span><span class="k">//</span><span class="w"> </span><span class="n">&lt;&lt;!</span><span class="w"> </span><span class="n">M</span><span class="o">&gt;&gt;</span><span class="n">&lt;&lt;?</span><span class="o">&gt;&gt;</span>
export<span class="w"> </span>class<span class="w"> </span><span class="s">&lt;&lt;M AA&gt;&gt;</span><span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">F</span><span class="w"> </span><span class="n">f</span><span class="o">&gt;&gt;</span>
<span class="w">    </span>public<span class="w"> </span><span class="s">&lt;&lt;f aA&gt;&gt;</span>;<span class="w"> </span><span class="o">&lt;&lt;?</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">hN</span><span class="o">&gt;&gt;</span><span class="k">//</span><span class="w"> </span><span class="n">&lt;&lt;!</span><span class="w"> </span><span class="n">f</span><span class="o">&gt;&gt;</span><span class="n">&lt;&lt;?</span><span class="o">&gt;&gt;</span>
<span class="w">    </span><span class="o">&lt;&lt;@&gt;&gt;</span>
}
</code></pre></div>
</div>
<input id="__tabbed_14_3" name="__tabbed_14" type="radio" /><label for="__tabbed_14_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">hasNotes</span><span class="p">)</span> <span class="p">{</span> <span class="o">%&gt;</span><span class="c1">// &lt;%= model.notes %&gt;&lt;% } %&gt;</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="o">&lt;%=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span> <span class="o">%&gt;</span> <span class="p">{</span>
<span class="o">&lt;%</span> <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
    <span class="kr">public</span> <span class="o">&lt;%=</span> <span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span> <span class="o">%&gt;</span><span class="p">;</span> <span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">hasNotes</span><span class="p">)</span> <span class="p">{</span> <span class="o">%&gt;</span><span class="c1">// &lt;%= field.notes %&gt;&lt;% } %&gt;</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">%&gt;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<input id="__tabbed_14_4" name="__tabbed_14" type="radio" /><label for="__tabbed_14_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">hasNotes</span><span class="p">)</span> <span class="p">{</span> <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`// </span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">notes</span><span class="si">}</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span> <span class="p">}</span>
<span class="nx">output</span> <span class="o">+=</span> <span class="sb">`export class </span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">pascal</span><span class="si">}</span><span class="sb"> {</span>
<span class="si">${</span><span class="nx">getFields</span><span class="p">()</span><span class="si">}</span><span class="sb">}`</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">getFields</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">fields</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">fields</span> <span class="o">+=</span> <span class="sb">`    public </span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="sb">;`</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">hasNotes</span><span class="p">)</span> <span class="p">{</span> <span class="nx">fields</span> <span class="o">+=</span> <span class="sb">` // </span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">notes</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span> <span class="p">}</span>
        <span class="nx">fields</span> <span class="o">+=</span> <span class="sb">`</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">fields</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_14_5" name="__tabbed_14" type="radio" /><label for="__tabbed_14_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="c1">// A user can only list its own bookmarks</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">Bookmark</span> <span class="p">{</span>
    <span class="kr">public</span> <span class="nx">id</span><span class="p">;</span>
    <span class="kr">public</span> <span class="nx">owner</span><span class="p">;</span> <span class="c1">// Current user when creating the bookmark</span>
    <span class="kr">public</span> <span class="nx">place</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">À savoir</p>
<p>Avec la syntaxe Hapify il est également possible d'afficher les notes en utilisant l'interpolation : <code class="highlight"><span class="s">&lt;&lt;= root.notes &gt;&gt;</span></code> ou <code class="highlight"><span class="s">&lt;&lt;= model.notes &gt;&gt;</span></code> pour un modèle ou bien <code class="highlight"><span class="s">&lt;&lt;= field.notes &gt;&gt;</span></code> pour un champ.</p>
</div>
<h2 id="meta-donnees">Meta-données</h2>
<p>Il est possible d'ajouter des meta-données au niveau d'un champ ou bien d'un modèle.
Voici comment les retrouver dans les templates :</p>
<div class="tabbed-set" data-tabs="15:5"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><label for="__tabbed_15_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>//<span class="w"> </span>The<span class="w"> </span>model&#39;s<span class="w"> </span>plural<span class="w"> </span>name<span class="w"> </span>is<span class="w"> </span><span class="s">&lt;&lt;-Model plural camel&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><label for="__tabbed_15_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>//<span class="w"> </span>The<span class="w"> </span>model&#39;s<span class="w"> </span>plural<span class="w"> </span>name<span class="w"> </span>is<span class="w"> </span><span class="s">&lt;&lt;-M plural aA&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_15_3" name="__tabbed_15" type="radio" /><label for="__tabbed_15_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="c1">// The model&#39;s plural name is &lt;%=model.meta.plural.camel%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_15_4" name="__tabbed_15" type="radio" /><label for="__tabbed_15_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nx">output</span> <span class="o">=</span> <span class="sb">`// The model&#39;s plural name is </span><span class="si">${</span><span class="nx">model</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">plural</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_15_5" name="__tabbed_15" type="radio" /><label for="__tabbed_15_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="c1">// The model&#39;s plural name is bookmarks</span>
</code></pre></div>
</div>
</div>
<h3 id="tester-si-une-meta-donnee-est-definie">Tester si une meta-donnée est définie</h3>
<p>Il est également possible de tester l'existence d'une meta-donnée avant de l'utiliser :</p>
<div class="tabbed-set" data-tabs="16:5"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><label for="__tabbed_16_1">Hapify (long)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;for</span><span class="w"> </span><span class="n">Fields</span><span class="w"> </span><span class="n">field</span><span class="o">&gt;&gt;</span>
<span class="w">    </span><span class="c">&lt;&lt;&lt; if (field.meta.plural) { &gt;&gt;&gt;</span>
//<span class="w"> </span>Plural<span class="w"> </span>of<span class="w"> </span><span class="s">&lt;&lt;field camel&gt;&gt;</span><span class="w"> </span>is<span class="w"> </span><span class="s">&lt;&lt;-field plural camel&gt;&gt;</span>
<span class="w">    </span><span class="c">&lt;&lt;&lt; } &gt;&gt;&gt;</span>
<span class="o">&lt;&lt;endfor&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><label for="__tabbed_16_2">Hapify (short)</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;&lt;@</span><span class="w"> </span><span class="n">F</span><span class="w"> </span><span class="n">f</span><span class="o">&gt;&gt;</span>
<span class="w">    </span><span class="c">&lt;&lt;&lt; if (f.meta.plural) { &gt;&gt;&gt;</span>
//<span class="w"> </span>Plural<span class="w"> </span>of<span class="w"> </span><span class="s">&lt;&lt;f aA&gt;&gt;</span><span class="w"> </span>is<span class="w"> </span><span class="s">&lt;&lt;-f plural aA&gt;&gt;</span>
<span class="w">    </span><span class="c">&lt;&lt;&lt; } &gt;&gt;&gt;</span>
<span class="o">&lt;&lt;@&gt;&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_16_3" name="__tabbed_16" type="radio" /><label for="__tabbed_16_3">EJS</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;%</span> <span class="k">for</span><span class="p">(</span><span class="kr">const</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
    <span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">plural</span><span class="p">)</span> <span class="p">{</span> <span class="o">-%&gt;</span>
<span class="c1">// Plural of &lt;%=field.names.camel%&gt; is &lt;%=field.meta.plural.camel%&gt;</span>
    <span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">-%&gt;</span>
</code></pre></div>
</div>
<input id="__tabbed_16_4" name="__tabbed_16" type="radio" /><label for="__tabbed_16_4">JavaScript</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nx">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">field</span> <span class="k">of</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">field</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">plural</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">output</span> <span class="o">+=</span> <span class="sb">`// Plural of </span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">names</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="sb"> is </span><span class="si">${</span><span class="nx">field</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">plural</span><span class="p">.</span><span class="nx">camel</span><span class="si">}</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
</code></pre></div>
</div>
<input id="__tabbed_16_5" name="__tabbed_16" type="radio" /><label for="__tabbed_16_5">Sortie</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="c1">// Plural of owner is owners</span>
<span class="c1">// Plural of place is places</span>
</code></pre></div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">À savoir</p>
<p>Vous pouvez forcer l'ajout de meta pour les champs ou les modèles en définissant <a href="../step-5-models-validator/">un validateur de modèle</a>.</p>
</div>
<h2 id="exclusion-de-fichiers-generes">Exclusion de fichiers générés</h2>
<p>Il est possible d'exclure certain fichier de la génération.
Si le template retourne une chaine vide ou ne contenant que des espaces, alors aucun fichier ne sera généré pour ce couple template/modèle de données.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../step-3-boilerplate-and-templates/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Précédent
              </span>
              Étape 3: Ajouter des templates
            </div>
          </div>
        </a>
      
      
        <a href="../step-5-models-validator/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Suivant
              </span>
              Étape 5: Validateur de modèles de données
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://www.hapify.io/" target="_blank" rel="noopener" title="www.hapify.io" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://github.com/hapify" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://hub.docker.com/u/hapify" target="_blank" rel="noopener" title="hub.docker.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://hapify.slack.com/" target="_blank" rel="noopener" title="hapify.slack.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.instant"], "translations": {"clipboard.copy": "Copier dans le presse-papier", "clipboard.copied": "Copi\u00e9 dans le presse-papier", "search.config.lang": "fr", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Rechercher", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ca5457b8.min.js"></script>
      
    
  </body>
</html>